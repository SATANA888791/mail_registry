{% extends 'base.html' %}
{% block title %}{{ title }}{% endblock %}

{% block content %}
<h1>{{ title }}</h1>
<form method="post">
  {{ form.hidden_tag() }}
  <div class="mb-3">
    {{ form.username.label() }} {{ form.username(class="form-control") }}
    {% for error in form.username.errors %}
    <div class="text-danger small">{{ error }}</div>
    {% endfor %}
  </div>
  <div class="mb-3">
    {{ form.email.label() }} {{ form.email(class="form-control") }}
    {% for error in form.email.errors %}
    <div class="text-danger small">{{ error }}</div>
    {% endfor %}
  </div>
  <div class="mb-3">
    {{ form.display_name.label() }} {{ form.display_name(class="form-control") }}
    {% for error in form.display_name.errors %}
    <div class="text-danger small">{{ error }}</div>
    {% endfor %}
  </div>
  <div class="mb-3 position-relative">
    {{ form.password.label() }}
    <div class="input-group">
      {{ form.password(class="form-control", id="passwordField") }}
      {% for error in form.password.errors %}
      <div class="text-danger small">{{ error }}</div>
      {% endfor %}
      <button type="button" class="btn btn-outline-secondary" id="togglePassword">
        üëÅ –ü–æ–∫–∞–∑–∞—Ç—å
      </button>
    </div>
    <small class="form-text text-muted">
      –ß—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å ‚Äî –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π. –ò–Ω–∞—á–µ –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º.
    </small>
  </div>
  <div class="d-flex mb-3">
    <button type="button" class="btn btn-outline-secondary me-2" id="genPassword">
      üîë –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å
    </button>
    <span id="genStatus" class="text-success small align-self-center" style="display:none;">
      ‚úÖ –ü–∞—Ä–æ–ª—å –≤—Å—Ç–∞–≤–ª–µ–Ω –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
    </span>
  </div>
  <div class="mb-3">
    {{ form.role.label() }} {{ form.role(class="form-select") }}
  </div>
  {{ form.submit(class="btn btn-primary") }}
  <a href="{{ url_for('admin.user_list') }}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
</form>
{% endblock %}